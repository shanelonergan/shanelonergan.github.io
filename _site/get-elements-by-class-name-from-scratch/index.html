<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Build document.getElementsByClassName From Scratch - The acting developer</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="The acting developer" property="og:site_name">
  
    <meta content="Build document.getElementsByClassName From Scratch" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="tbd" property="og:description">
  
  
    <meta content="http://localhost:4000/get-elements-by-class-name-from-scratch/" property="og:url">
  
  
    <meta content="2020-01-19T00:00:00-05:00" property="article:published_time">
    <meta content="http://localhost:4000/about/" property="article:author">
  
  
    <meta content="http://localhost:4000/assets/img/getElementsByClassName.png" property="og:image">
  
  
    
  
  
    
    <meta content="programming" property="article:tag">
    
    <meta content="terminal" property="article:tag">
    
    <meta content="bash" property="article:tag">
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@shane__lonergan">
  
    <meta name="twitter:title" content="Build document.getElementsByClassName From Scratch">
  
  
    <meta name="twitter:url" content="http://localhost:4000/get-elements-by-class-name-from-scratch/">
  
  
    <meta name="twitter:description" content="tbd">
  
  
    <meta name="twitter:image:src" content="http://localhost:4000/assets/img/getElementsByClassName.png">
  

	<meta name="description" content="tbd">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/shane-lonergan.jpg" alt="Shane Lonergan"></a>
      </div>
      <div class="author-name">Shane Lonergan</div>
      <p>I am an actor and a full stack web developer. Lover of fancy keyboards and making loud noises.</p>

    </div>
    <div id='project-div'>
      <p id='project-header'>Check out some of my projects:</p>
      <ul id='project-list'>
        <li>
          <a href="https://typingroyale.pro/">Typing Royale</a> <br> Retro typing game allowing players to compete head to head over the web.
        </li>
        <li>
          <a href="https://shanelonergan.github.io/breathe/">Breathe</a> <br> Guided <a href="https://www.wimhofmethod.com/breathing-exercises" style='color:inherit;text-decoration:underline'>Wim Hof</a> Breathing Meditation
        </li>
      </ul>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://twitter.com/shane__lonergan" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
        
        
          <li class="github"><a href="http://github.com/shanelonergan" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="linkedin"><a href="https://in.linkedin.com/in/shane-lonergan-6a25aa188" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        
        
          <li class="email"><a href="mailto:shanepatricklonergan@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2020 &copy; Shane Lonergan</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src=/assets/img/getElementsByClassName.png alt="Build document.getElementsByClassName From Scratch">
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title" style="font-size:50px">Build document.getElementsByClassName From Scratch</h1>
        <h3>tbd</h3>
        <div class="page-date"><span>2020, Jan 19&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <hr />

<p>I am currently diving into my first job search as a software engineer, and so I recently had a mock technical interview. The interview was done in Javascript, and consisted of two questions. The first was a fairly standard algorithm question, but the second was quite interesting. I was asked to build the <code class="highlighter-rouge">document.getElementByClassName</code> method from scratch, as if it didn’t exist. I found it enlightening to build out a method that I had used so many times before, and improved my understanding of both DOM manipulation and Javascript as a whole. In this article I will walk you through the solution I came up with.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#table-of-contents">Table of Contents</a></li>
  <li><a href="#goal">Goal</a></li>
  <li><a href="#example">Example</a></li>
  <li><a href="#plan">Plan</a></li>
  <li><a href="#code">Code</a>
    <ul>
      <li><a href="#step-1-set-up-the-main-function">Step 1: Set up the main function</a></li>
      <li><a href="#step-2-write-the-recursive-helper-function">Step 2: Write the recursive helper function</a></li>
      <li><a href="#step-3-put-it-all-together">Step 3: Put it all together</a></li>
      <li><a href="#step-4-add-to-the-html-element-prototype">Step 4: Add to the HTML Element prototype</a></li>
    </ul>
  </li>
  <li><a href="#references">References</a></li>
</ul>

<h2 id="goal">Goal</h2>

<p>The goal is to create a functionally equivalent version of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName"><code class="highlighter-rouge">document.getElementByClassName</code></a>. In order to do this, our new method needs to have to following functions:</p>

<ol>
  <li>Can be called on and HTML element</li>
  <li>Takes an argument, a string, containing any number of class names.</li>
  <li>Returns all elements that match all the class names passed in.</li>
  <li>Returns only elements that are children of the element the function was called on</li>
</ol>

<h2 id="example">Example</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">'parent'</span><span class="nt">&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">'hello'</span><span class="nt">&gt;</span>hello world 1<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">'hello'</span><span class="nt">&gt;</span>hello world 2<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">'hello'</span><span class="nt">&gt;</span>hello world 3<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">'hello'</span><span class="nt">&gt;</span>hello world 4<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">parent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="dl">'</span><span class="s1">parent</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// =&gt;    &lt;div class='parent'&gt;&lt;/div&gt;</span>

<span class="kd">const</span> <span class="nx">helloWorlds</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// =&gt; [  &lt;p class='hello'&gt;hello world 1&lt;/p&gt;,</span>
<span class="c1">//       &lt;p class='hello'&gt;hello world 2&lt;/p&gt;,</span>
<span class="c1">//       &lt;p class='hello'&gt;hello world 3&lt;/p&gt;,</span>
<span class="c1">//       &lt;p class='hello'&gt;hello world 4&lt;/p&gt;  ]</span>
</code></pre></div></div>

<h2 id="plan">Plan</h2>

<p>First, we need to create a conceptual plan for our function:</p>

<ol>
  <li>Create an array to store all the elements that are a match.</li>
  <li>Check all direct descendants of the main element for the class name
    <ol>
      <li>if any do, add them to the array</li>
    </ol>
  </li>
  <li>Check all of those children’s children the same way</li>
  <li>repeat until there are no more children</li>
</ol>

<p>Based on this plan, we will need to create a recursive helper function, or a function that calls itself within its own definition, to check all elements beneath the primary. We will call this helper function within the main function. The return value of the main function should be an array of elements, which we will declare as an empty array at the top, and add elements to as we move along.</p>

<p>Now that we have a solid plan, lets get coding!</p>

<h2 id="code">Code</h2>

<h3 id="step-1-set-up-the-main-function">Step 1: Set up the main function</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getElementsByClassName2</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>

   <span class="kd">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">// the array we will add matching elements to</span>
   <span class="kd">const</span> <span class="nx">firstChildren</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">children</span> <span class="c1">// all the children of the element the function is called on</span>

   <span class="k">return</span> <span class="nx">elements</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="step-2-write-the-recursive-helper-function">Step 2: Write the recursive helper function</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getElementsByClassName2</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>

   <span class="kd">function</span> <span class="nx">checkChildren</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="p">{</span>

      <span class="c1">// check if the child has a matching class. If so, oush the the elements array</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">child</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">className</span><span class="p">))</span> <span class="p">{</span>
         <span class="nx">elements</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="c1">// check if that child has children of its own. If so, call checkChildren one each child</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">child</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">const</span> <span class="nx">children</span> <span class="o">=</span> <span class="nx">child</span><span class="p">.</span><span class="nx">children</span>
         <span class="nx">children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">child</span> <span class="o">=&gt;</span> <span class="nx">checkChildren</span><span class="p">(</span><span class="nx">child</span><span class="p">))</span>
     <span class="p">}</span>
   <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<h3 id="step-3-put-it-all-together">Step 3: Put it all together</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">getElementsByClassName2</span><span class="p">(</span><span class="nx">className</span><span class="p">)</span> <span class="p">{</span>

   <span class="kd">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">// the array we will add matching elements to</span>
   <span class="kd">const</span> <span class="nx">firstChildren</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">children</span> <span class="c1">// all the children of the element the function is called on</span>

   <span class="kd">function</span> <span class="nx">checkChildren</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="p">{</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">child</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">className</span><span class="p">))</span> <span class="p">{</span>
         <span class="nx">elements</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">child</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">const</span> <span class="nx">children</span> <span class="o">=</span> <span class="nx">child</span><span class="p">.</span><span class="nx">children</span>
         <span class="nx">children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">child</span> <span class="o">=&gt;</span> <span class="nx">checkChildren</span><span class="p">(</span><span class="nx">child</span><span class="p">))</span>
     <span class="p">}</span>
   <span class="p">}</span>

   <span class="c1">// call the checkChildren method on the firstChildren</span>
   <span class="nx">firstChildren</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">child</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">checkChildren</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span>
   <span class="p">})</span>

    <span class="k">return</span> <span class="nx">elements</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="step-4-add-to-the-html-element-prototype">Step 4: Add to the HTML Element prototype</h3>

<p>In order for us to be able to call this function on any HTML Element, we need to add it to the HTML element prototype.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">HTMLElement</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getElementsByClassname2</span> <span class="o">=</span> <span class="nx">getElementsByClassName2</span>
</code></pre></div></div>

<p>And just like that, we are done! Our new method <code class="highlighter-rouge">getElementsByClassName2</code> now has the same functionality as the original <code class="highlighter-rouge">getElementsByClassName</code>.</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName">MDN Docs: Document.getElementsByClassName()</a></li>
  <li><a href="https://guides.rubyonrails.org/active_record_basics.html">Active Record Basics</a></li>
  <li><a href="https://blog.bitsrc.io/what-is-an-orm-and-why-you-should-use-it-b2b6f75f5e2a">What is an ORM and Why You Should Use it</a></li>
  <li><a href="https://mixandgo.com/learn/what-is-a-ruby-reducer">What is a Ruby Reducer?</a></li>
  <li><a href="https://edgeguides.rubyonrails.org/association_basics.html#scopes-for-Belongs-to">Scopes for belongs_to</a></li>
</ul>

      <div class="page-footer">
        <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Build document.getElementsByClassName From Scratch&url=http://localhost:4000/get-elements-by-class-name-from-scratch/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=http://localhost:4000/get-elements-by-class-name-from-scratch/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=http://localhost:4000/get-elements-by-class-name-from-scratch/" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div>
        <div class="page-tag">
          
            <a href="/tags#programming" class="tag">&#35; programming</a>
          
            <a href="/tags#terminal" class="tag">&#35; terminal</a>
          
            <a href="/tags#bash" class="tag">&#35; bash</a>
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//mr-brown.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
